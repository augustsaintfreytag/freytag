@import "~/assets/style/values.scss";
@import "~/assets/style/mixins/blip-element.scss";
@import "~/assets/style/life-kind-colors.scss";
@import "~/assets/style/mixins/mobile.scss";

.life-page {
	// Values

	$blipSize: 14px;
	$blipPadding: 10px;
	$pageInsetHorizontal: $insetHorizontal - $blipSize;

	// Life Events Filter

	.life-events-filter {
		$filterBlipSize: $blipSize;
		$filterBlipPadding: 7px;
		$filterInterItemSpacing: 25px;

		display: flex;
		margin-bottom: 50px;

		& > div {
			display: flex;
			margin-right: $filterInterItemSpacing;
			user-select: none;
			cursor: pointer;

			> * {
				flex: 0 auto;
			}

			.blip {
				flex: 0 $blipSize;
				padding-right: $filterBlipPadding;
				align-self: center;
				transform: translateY(-0.5px);
				
				@include blipElement($filterBlipSize);

				@include mobile("factor-l") {
					padding-right: $filterBlipPadding * 0.75;
				}
			}
		
			.name {
				font-size: $fontSizeLabelDefault;
				font-weight: 500;
			}
		}

		@include mobile("factor-l") {
			flex-wrap: wrap;
			margin-bottom: 30px;
			padding-right: 32%;

			& > div {
				margin-bottom: 5px;
				margin-right: $filterInterItemSpacing * 0.5;
				flex: 0 auto;
			}
		}

		@include mobile("factor-m") {
			padding-right: 25%;
		}

		@include mobile("factor-s") {
			padding-right: 15%;
		}

		@include mobile("factor-xs") {
			padding-right: 10%;
		}
	}

	// Life Events Header

	.life-events-header {
		margin-bottom: 25px;

		.details {
			> div {
				cursor: default;
				user-select: none;

				span {
					color: $textColorVeryLight;
				}

				.sort-switch {
					$size: 15px;

					display: inline-block;
					box-sizing: border-box;
					padding-left: 4px;
					visibility: hidden;
					
					svg {
						position: relative;
						top: 2px;
						height: $size;
						width: $size;
						transform: rotateZ(180deg);
					}
				}

				&.sortable {
					cursor: pointer;
				}

				&.active {
					.sort-switch {
						visibility: visible;
					}
				}

				&.reversed {
					.sort-switch svg {
						transform: rotateZ(0deg);
					}
				}
			}
		}
	}

	// Life Events in Context

	ul.life-events {
		list-style: none;
		padding: 0;

		li {
			position: relative;

			.life-event {
				$interItemSpace: 20px;
				margin-bottom: $interItemSpace / 2;
				padding-bottom: $interItemSpace / 2;
				border-bottom: 1px solid #f0f0f0;
				cursor: pointer;
	
				.header {
					margin-bottom: $interItemSpace / 4;
				}
			}

			&:last-child {
				.life-event {
					border-bottom: none;
				}
			}
		}
	}

	aside.life-event-card-holder {
		display: flex;
		justify-content: space-around;

		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: 100;

		&.hidden {
			display: none;
		}

		.overlay {
			z-index: 1;
			position: absolute;
			top: 0;
			left: 0;
			height: 100%;
			width: 100%;
			background: rgba(255, 255, 255, 0.75);
			cursor: pointer;
		}

		> .life-event-card {
			z-index: 2;
			flex: 0 auto;
			align-self: center;
			width: 500px;
			height: fit-content;
			cursor: default;

			@include mobile("factor-l") {
				width: 73vw;
			}
		}
	}

	// Mobile Column Reduction

	@include mobile("factor-l") {
		.life-events-header .details, ul.life-events > li .details {
			.location, .context {
				display: none;
			}
		}
	}

}